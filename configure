#!/usr/bin/env ruby

require 'erb'

renderer = ERB.new(File.read ".vimrc.erb")

clang_library_path = (ENV['LOCALE'] == "home") ? "/Users/lawrence/build/Release+Asserts/lib" : "/Developer/usr/clang-ide/lib"
clang_user_options = (ENV['LOCALE'] == "home") ? "-fblocks -nostdinc -nobuiltininc -I/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk/usr/include -F/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk/System/Library/Frameworks -I/usr/lib/clang/3.0/include" : "-fblocks -nostdinc -nobuiltininc -I/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator4.3.sdk/usr/include -F/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator4.3.sdk/System/Library/Frameworks -I/usr/lib/clang/2.0/include -D__IPHONE_OS_VERSION_MIN_REQUIRED=040100"

result = renderer.result(binding) 

outpath = File.join(Dir.pwd, '.vimrc')
File.open('.vimrc', 'w') do |f|
  f << result 
  puts "created #{outpath}"
end
  
